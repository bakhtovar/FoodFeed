{"ast":null,"code":"import { useState, useEffect } from 'react';\n\nconst useForm = (callback, validate) => {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const HandleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    console.log(event.target.name);\n    console.log(event.target.value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const HandleSubmit = event => {\n    event.preventDefault();\n    setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  useEffect(() => {\n    //if there are any errors\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  return {\n    HandleChange,\n    HandleSubmit,\n    values,\n    errors\n  };\n};\n\nexport default useForm;","map":{"version":3,"sources":["/Users/bakhtovar/Downloads/js/project/src/Components/useForm.js"],"names":["useState","useEffect","useForm","callback","validate","values","setValues","email","password","errors","setErrors","isSubmitting","setIsSubmitting","HandleChange","event","name","value","target","console","log","HandleSubmit","preventDefault","Object","keys","length"],"mappings":"AAAA,SAAUA,QAAV,EAAoBC,SAApB,QAAqC,OAArC;;AAEA,MAAMC,OAAO,GAAI,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAErC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC;AAACO,IAAAA,KAAK,EAAC,EAAP;AAAWC,IAAAA,QAAQ,EAAC;AAApB,GAAD,CAApC;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAmCZ,QAAQ,CAAC,KAAD,CAAjD;;AAEA,QAAMa,YAAY,GAAGC,KAAK,IAAI;AAC1B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBF,KAAK,CAACG,MAA7B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACG,MAAN,CAAaF,IAAzB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACG,MAAN,CAAaD,KAAzB;AACAV,IAAAA,SAAS,CAAC,EACP,GAAGD,MADI;AAEP,OAACU,IAAD,GAAOC;AAFA,KAAD,CAAT;AAIH,GARD;;AASA,QAAMI,YAAY,GAAGN,KAAK,IAAI;AAC1BA,IAAAA,KAAK,CAACO,cAAN;AACDX,IAAAA,SAAS,CAACN,QAAQ,CAACC,MAAD,CAAT,CAAT;AACAO,IAAAA,eAAe,CAAC,IAAD,CAAf;AACF,GAJD;;AAKAX,EAAAA,SAAS,CAAC,MAAK;AAEX;AAEA,QAAGqB,MAAM,CAACC,IAAP,CAAYd,MAAZ,EAAoBe,MAApB,KAA+B,CAA/B,IAAoCb,YAAvC,EAAqD;AAErDR,MAAAA,QAAQ;AACX;AACA,GARQ,EAQN,CAACM,MAAD,CARM,CAAT;AASA,SAAO;AACHI,IAAAA,YADG;AAEHO,IAAAA,YAFG;AAGHf,IAAAA,MAHG;AAIHI,IAAAA;AAJG,GAAP;AAOH,CApCD;;AAqCA,eAAeP,OAAf","sourcesContent":["import  { useState, useEffect } from 'react';\n\nconst useForm =  (callback, validate) => {\n\n    const [values, setValues] = useState({email:\"\", password:\"\"});\n    const [errors, setErrors] = useState({});\n    const [isSubmitting, setIsSubmitting ] = useState(false);\n    \n    const HandleChange = event => {\n        const { name, value} = event.target;\n        console.log(event.target.name);\n        console.log(event.target.value);\n        setValues({\n           ...values,\n           [name]:value\n        })\n    };\n    const HandleSubmit = event => {\n        event.preventDefault();\n       setErrors(validate(values));\n       setIsSubmitting(true);\n    };\n    useEffect(() =>{\n\n        //if there are any errors\n\n        if(Object.keys(errors).length === 0 && isSubmitting) {\n\n        callback();\n    } \n    }, [errors])\n    return {\n        HandleChange,\n        HandleSubmit,\n        values,\n        errors\n    };\n\n};\nexport default useForm;"]},"metadata":{},"sourceType":"module"}