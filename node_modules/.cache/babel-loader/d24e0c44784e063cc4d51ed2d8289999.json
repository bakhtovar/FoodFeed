{"ast":null,"code":"var _jsxFileName = \"/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport { Form, Button, Nav } from \"react-bootstrap\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nexport default function Login() {\n  const [errMsg, SetErrMsg] = useState(\"none\");\n  const [values, setValues] = useState({\n    password: \"\",\n    showPassword: false\n  });\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function onEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function onPasswordChange(e) {\n    setPassword(e.target.value);\n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n\n    function onSubmitForm(e) {\n      const usersLocalStorage = localStorage.getItem(\"data\");\n\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(data => data.email === email && data.password === password);\n\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/admin\"\n          });\n        }\n      }\n\n      e.preventDefault();\n    }\n\n    ;\n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n\n      if (localStorage.getItem(\"auth\") === \"true\") history.push({\n        pathname: \"/admin\"\n      });\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: onSubmitForm,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      value: email,\n      onChange: onEmailChange,\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      value: password,\n      onChange: onPasswordChange,\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicCheckbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      label: \"Check me out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 3\n      }\n    }, \"Submit\")));\n  }\n}","map":{"version":3,"sources":["/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js"],"names":["React","useState","useEffect","Header","Form","Button","Nav","useHistory","Link","queryString","Login","errMsg","SetErrMsg","values","setValues","password","showPassword","email","setEmail","setPassword","onEmailChange","e","target","value","onPasswordChange","history","qparse","parse","location","search","onSubmitForm","usersLocalStorage","localStorage","getItem","JSON","existUser","find","data","setItem","stringify","push","pathname","preventDefault","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport {\n    Form,\n    Button,\n    Nav,\n  } from \"react-bootstrap\";\n  import { useHistory, Link } from \"react-router-dom\";\n\n  import queryString from \"query-string\";\n\nexport default function Login() {\n    const [errMsg, SetErrMsg] = useState(\"none\");\n    const [values, setValues] = useState({ password: \"\", showPassword: false });\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n  \n    \n    function onEmailChange(e)  {\n    setEmail(e.target.value);\n    }\n    function onPasswordChange(e)  {\n    setPassword(e.target.value);\n  \n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n  \n    function onSubmitForm(e)  {\n   \n      const usersLocalStorage = localStorage.getItem(\"data\");\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(\n          (data) => data.email === email && data.password === password\n        );\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/admin\"\n          });\n        }\n      }\n      e.preventDefault();\n    };\n  \n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n      if (localStorage.getItem(\"auth\") === \"true\")\n        history.push({ pathname: \"/admin\" });\n    }, []);\n  \n\n    return(\n        <div>\n       <Form onSubmit={onSubmitForm} noValidate>\n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control\n     type=\"email\" \n     value={email}\n     onChange={onEmailChange}\n     placeholder=\"Enter email\" />\n    <Form.Text className=\"text-muted\">\n      We'll never share your email with anyone else.\n    </Form.Text>\n  </Form.Group>\n\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control \n    type=\"password\" \n    value={password}\n    onChange={onPasswordChange}\n    placeholder=\"Password\" />\n  </Form.Group>\n  <Form.Group controlId=\"formBasicCheckbox\">\n    <Form.Check type=\"checkbox\" label=\"Check me out\" />\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\">\n    Submit\n  </Button>\n</Form>\n        </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}