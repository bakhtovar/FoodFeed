{"ast":null,"code":"var _jsxFileName = \"/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport { Form, Button, Nav } from \"react-bootstrap\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nexport default function Login() {\n  const [errMsg, SetErrMsg] = useState(\"none\");\n  const [values, setValues] = useState({\n    password: \"\",\n    showPassword: false\n  });\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleClickShowPassword = () => {\n    setValues({ ...values,\n      showPassword: !values.showPassword\n    });\n  };\n\n  function handleMouseDownPassword(e) {\n    e.preventDefault();\n  }\n\n  function onEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function onPasswordChange(e) {\n    setPassword(e.target.value);\n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n\n    function onSubmitForm(e) {\n      const usersLocalStorage = localStorage.getItem(\"data\");\n\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(data => data.email === email && data.password === password);\n\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/admin\"\n          });\n        }\n      }\n\n      e.preventDefault();\n    }\n\n    ;\n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n\n      if (localStorage.getItem(\"auth\") === \"true\") history.push({\n        pathname: \"/admin\"\n      });\n    }, []);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicCheckbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      label: \"Check me out\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 3\n      }\n    }, \"Submit\")));\n  }\n}","map":{"version":3,"sources":["/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js"],"names":["React","useState","useEffect","Header","Form","Button","Nav","useHistory","Link","queryString","Login","errMsg","SetErrMsg","values","setValues","password","showPassword","email","setEmail","setPassword","handleClickShowPassword","handleMouseDownPassword","e","preventDefault","onEmailChange","target","value","onPasswordChange","history","qparse","parse","location","search","onSubmitForm","usersLocalStorage","localStorage","getItem","JSON","existUser","find","data","setItem","stringify","push","pathname","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport {\n    Form,\n    Button,\n    Nav,\n  } from \"react-bootstrap\";\n  import { useHistory, Link } from \"react-router-dom\";\n\n  import queryString from \"query-string\";\n\nexport default function Login() {\n    const [errMsg, SetErrMsg] = useState(\"none\");\n    const [values, setValues] = useState({ password: \"\", showPassword: false });\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n  \n    const handleClickShowPassword = () => {\n      setValues({ ...values, showPassword: !values.showPassword });\n    };\n    function handleMouseDownPassword(e)  {\n    e.preventDefault();\n}\n    function onEmailChange(e)  {\n    setEmail(e.target.value);\n    }\n    function onPasswordChange(e)  {\n    setPassword(e.target.value);\n  \n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n  \n    function onSubmitForm(e)  {\n   \n      const usersLocalStorage = localStorage.getItem(\"data\");\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(\n          (data) => data.email === email && data.password === password\n        );\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/admin\"\n          });\n        }\n      }\n      e.preventDefault();\n    };\n  \n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n      if (localStorage.getItem(\"auth\") === \"true\")\n        history.push({ pathname: \"/admin\" });\n    }, []);\n  \n\n    return(\n        <div>\n       <Form>\n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control type=\"email\" placeholder=\"Enter email\" />\n    <Form.Text className=\"text-muted\">\n      We'll never share your email with anyone else.\n    </Form.Text>\n  </Form.Group>\n\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control type=\"password\" placeholder=\"Password\" />\n  </Form.Group>\n  <Form.Group controlId=\"formBasicCheckbox\">\n    <Form.Check type=\"checkbox\" label=\"Check me out\" />\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\">\n    Submit\n  </Button>\n</Form>\n        </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}