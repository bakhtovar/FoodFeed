{"ast":null,"code":"var _jsxFileName = \"/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport queryString from \"query-string\";\nexport default function Login() {\n  const [errMsg, SetErrMsg] = useState(\"none\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function onEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function onPasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  const history = useHistory();\n  const qparse = queryString.parse(history.location.search);\n\n  function onSubmitForm(e) {\n    const usersLocalStorage = localStorage.getItem(\"data\");\n\n    if (usersLocalStorage) {\n      const parse = JSON.parse(usersLocalStorage);\n      const existUser = parse.find(data => data.email === email && data.password === password);\n\n      if (!existUser) {\n        localStorage.setItem(\"auth\", \"false\");\n        SetErrMsg(\"block\");\n        console.log('Error');\n      } else {\n        localStorage.setItem(\"auth\", \"true\");\n        localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n        history.push({\n          pathname: \"/profile\"\n        });\n      }\n    }\n\n    e.preventDefault();\n  }\n\n  ;\n  useEffect(() => {\n    if (qparse.auth === \"false\") {\n      SetErrMsg(\"block\");\n    }\n\n    if (localStorage.getItem(\"auth\") === \"true\") history.push({\n      pathname: \"/login\"\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"logText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"login\",\n    onSubmit: onSubmitForm,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    value: email,\n    onChange: onEmailChange,\n    placeholder: \"Enter email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    value: password,\n    onChange: onPasswordChange,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicCheckbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"checkbox\",\n    label: \"Check me out\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: errMsg\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 3\n    }\n  }, \"This is a  alert\\u2014check it out!\"))));\n}","map":{"version":3,"sources":["/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js"],"names":["React","useState","useEffect","Header","Form","Button","Alert","useHistory","Link","queryString","Login","errMsg","SetErrMsg","email","setEmail","password","setPassword","onEmailChange","e","target","value","onPasswordChange","history","qparse","parse","location","search","onSubmitForm","usersLocalStorage","localStorage","getItem","JSON","existUser","find","data","setItem","console","log","stringify","push","pathname","preventDefault","auth","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport {\n    Form,\n    Button,\n    Alert,\n  } from \"react-bootstrap\";\n  import { useHistory, Link } from \"react-router-dom\";\n\n  import queryString from \"query-string\";\n\nexport default function Login() {\n    const [errMsg, SetErrMsg] = useState(\"none\");\n   \n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n  \n    \n    function onEmailChange(e)  {\n    setEmail(e.target.value);\n    }\n\n\n\n    \n  \n    function onPasswordChange(e)  {\n    setPassword(e.target.value);\n    }\n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n  \n    function onSubmitForm(e)  {\n   \n      const usersLocalStorage = localStorage.getItem(\"data\");\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(\n          (data) => data.email === email && data.password === password\n        );\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n         console.log('Error')\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/profile\"\n          });\n        }\n      }\n      e.preventDefault();\n    };\n  \n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n      if (localStorage.getItem(\"auth\") === \"true\")\n        history.push({ pathname: \"/login\" });\n    }, []);\n  \n\n    return(\n        <div>\n             <Header/>\n            <h1 className=\"logText\">Log in</h1>\n       <Form className=\"login\" onSubmit={onSubmitForm} noValidate>\n       \n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control\n     type=\"email\" \n     value={email}\n     onChange={onEmailChange}\n     placeholder=\"Enter email\" />\n    <Form.Text className=\"text-muted\">\n      We'll never share your email with anyone else.\n    </Form.Text>\n  </Form.Group>\n\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control \n    type=\"password\" \n    value={password}\n    onChange={onPasswordChange}\n    placeholder=\"Password\" />\n  </Form.Group>\n  <Form.Group controlId=\"formBasicCheckbox\">\n    <Form.Check type=\"checkbox\" label=\"Check me out\" />\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\">\n    Submit\n  </Button>\n  <div style={{ display: errMsg }}>\n  <Alert  variant=\"warning\">\n    This is a  alert—check it out!\n  </Alert>\n            </div>\n</Form>\n        </div>\n    );\n  }\n\n"]},"metadata":{},"sourceType":"module"}