{"ast":null,"code":"import _slicedToArray from\"/Users/bakhtovar/Downloads/AUCA/FoodFeed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'../Components/Header';import gif from'../Img/FoodFeed.gif';import{Form,Button,Alert}from\"react-bootstrap\";import{useHistory}from\"react-router-dom\";import queryString from\"query-string\";export default function Login(){var _useState=useState(\"none\"),_useState2=_slicedToArray(_useState,2),errMsg=_useState2[0],SetErrMsg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];function onEmailChange(e){setEmail(e.target.value);}function onPasswordChange(e){setPassword(e.target.value);}var history=useHistory();var qparse=queryString.parse(history.location.search);function onSubmitForm(e){var usersLocalStorage=localStorage.getItem(\"data\");if(usersLocalStorage){var parse=JSON.parse(usersLocalStorage);var existUser=parse.find(function(data){return data.email===email&&data.password===password;});if(!existUser){localStorage.setItem(\"auth\",\"false\");SetErrMsg(\"block\");console.log('Error');}else{localStorage.setItem(\"auth\",\"true\");localStorage.setItem(\"authUser\",JSON.stringify(existUser));history.push({pathname:\"/profile\"});}}e.preventDefault();};useEffect(function(){if(qparse.auth===\"false\"){SetErrMsg(\"block\");}if(localStorage.getItem(\"auth\")===\"true\")history.push({pathname:\"/login\"});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-6\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"logText\"},\"Log in\"),/*#__PURE__*/React.createElement(Form,{className:\"login\",onSubmit:onSubmitForm,noValidate:true},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",value:email,onChange:onEmailChange,placeholder:\"Enter email\"}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",value:password,onChange:onPasswordChange,placeholder:\"Password\"})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicCheckbox\"},/*#__PURE__*/React.createElement(Form.Check,{type:\"checkbox\",label:\"Check me out\"})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\"),/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:'10px',display:errMsg}},/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},\"Check email or password again!\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"img\",{align:\"center\",src:gif,style:{width:\"auto\",height:\"500px\",paddingTop:\"150px\"},alt:\"gif\"}))));}","map":{"version":3,"sources":["/Users/bakhtovar/Downloads/AUCA/FoodFeed/src/Components/Login.js"],"names":["React","useState","useEffect","Header","gif","Form","Button","Alert","useHistory","queryString","Login","errMsg","SetErrMsg","email","setEmail","password","setPassword","onEmailChange","e","target","value","onPasswordChange","history","qparse","parse","location","search","onSubmitForm","usersLocalStorage","localStorage","getItem","JSON","existUser","find","data","setItem","console","log","stringify","push","pathname","preventDefault","auth","paddingTop","display","width","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Components/Header';\nimport gif from '../Img/FoodFeed.gif';\nimport {\n    Form,\n    Button,\n    Alert,\n  } from \"react-bootstrap\";\n  import { useHistory } from \"react-router-dom\";\n\n  import queryString from \"query-string\";\n\nexport default function Login() {\n    const [errMsg, SetErrMsg] = useState(\"none\");\n   \n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n  \n    \n    function onEmailChange(e)  {\n    setEmail(e.target.value);\n    }\n\n\n\n    \n  \n    function onPasswordChange(e)  {\n    setPassword(e.target.value);\n    }\n    const history = useHistory();\n    const qparse = queryString.parse(history.location.search);\n  \n    function onSubmitForm(e)  {\n   \n      const usersLocalStorage = localStorage.getItem(\"data\");\n      if (usersLocalStorage) {\n        const parse = JSON.parse(usersLocalStorage);\n        const existUser = parse.find(\n          (data) => data.email === email && data.password === password\n        );\n        if (!existUser) {\n          localStorage.setItem(\"auth\", \"false\");\n          SetErrMsg(\"block\");\n         console.log('Error')\n        } else {\n          localStorage.setItem(\"auth\", \"true\");\n          localStorage.setItem(\"authUser\", JSON.stringify(existUser));\n          history.push({\n            pathname: \"/profile\"\n          });\n        }\n      }\n      e.preventDefault();\n    };\n  \n    useEffect(() => {\n      if (qparse.auth === \"false\") {\n        SetErrMsg(\"block\");\n      }\n      if (localStorage.getItem(\"auth\") === \"true\")\n        history.push({ pathname: \"/login\" });\n    }, []);\n  \n\n    return(\n        <div>\n             <Header/>\n             <div class=\"row\">\n        <div class=\"col-6\">\n            <h1 className=\"logText\">Log in</h1>\n       <Form className=\"login\" onSubmit={onSubmitForm} noValidate>\n       \n  <Form.Group controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control\n     type=\"email\" \n     value={email}\n     onChange={onEmailChange}\n     placeholder=\"Enter email\" />\n    <Form.Text className=\"text-muted\">\n      We'll never share your email with anyone else.\n    </Form.Text>\n  </Form.Group>\n\n  <Form.Group controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control \n    type=\"password\" \n    value={password}\n    onChange={onPasswordChange}\n    placeholder=\"Password\" />\n  </Form.Group>\n  <Form.Group controlId=\"formBasicCheckbox\">\n    <Form.Check type=\"checkbox\" label=\"Check me out\" />\n  </Form.Group>\n  <Button variant=\"primary\" type=\"submit\">\n    Submit\n  </Button>\n  <div style={{\n      paddingTop:'10px', \n      display: errMsg }}>\n  <Alert  variant=\"danger\">\n   Check email or password again!\n  </Alert>\n            </div>\n</Form>\n</div>\n<div className=\"col-6\">\n<img align=\"center\" src={gif} \n  style={{  \n    width:\"auto\",\n    height:\"500px\",\n    paddingTop:\"150px\"\n\n  }}\n  alt=\"gif\" />\n</div>\n</div>\n        </div>\n    );\n  }\n\n"]},"metadata":{},"sourceType":"module"}